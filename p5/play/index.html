<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Управление буквой с помощью контроллера</title>
  <style>
    @font-face {
      font-family: 'Angst';
      src: url('https://mishaivanov.ru/fonts/AngstVF.woff2') format('woff2');
    }

    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background-color: black;
      color: white;
      overflow: hidden; /* Скрыть контент, выходящий за пределы экрана */
    }

    #text {
      font-family: 'Angst';
      font-size: 100px;
      position: absolute;
      top: 50%; /* Начальное положение по вертикали */
      left: 50%; /* Начальное положение по горизонтали */
      transform-origin: center; /* Центр вращения */
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <div id="text">A</div>

  <script>
    const textElement = document.getElementById('text');
    let posY = 0; // Изначально смещение по Y равно 0
    let rotation = 0; // Изначально угол вращения равен 0

    function updatePositionAndRotation() {
      textElement.style.top = `calc(50% + ${posY}px)`; // Обновляем вертикальное положение
      textElement.style.transform = `rotate(${rotation}deg)`; // Обновляем угол вращения
    }

    function readGamepad() {
      const gamepad = navigator.getGamepads()[0];
      if (gamepad) {
        const leftStickY = gamepad.axes[1]; // Обычно вертикальное движение левого стика
        const rightStickX = gamepad.axes[2]; // Обычно горизонтальное движение правого стика

        posY += leftStickY * 5; // Изменяем позицию на значение стика, умноженное на скорость
        rotation += rightStickX * 2; // Изменяем угол вращения

        updatePositionAndRotation();
      }
      requestAnimationFrame(readGamepad); // Обновляем в каждом кадре анимации для плавности
    }

    window.addEventListener("load", readGamepad);
  </script>
</body>
</html>
